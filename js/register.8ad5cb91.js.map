{"version":3,"sources":["webpack:///./src/views/register/Register.vue?9252","webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?23c7","webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?4187","webpack:///./src/components/Toast.vue?4877"],"names":["class","message","props","toastData","show","toastMessage","showToast","setTimeout","render","__scopeId","src","alt","type","placeholder","username","password","ensurement","handleRegister","handleLogin","data","router","length","result","code","push","name","console","log","components","Toast","setup"],"mappings":"4GAAA,W,mKCCSA,MAAM,S,wEAAX,eAAoC,MAApC,EAAoC,eAAf,EAAAC,SAAO,MAKjB,GACbC,MAAO,CAAC,YAEG,EAAiB,WAC5B,IAAMC,EAAY,eAAS,CACzBC,MAAM,EACNC,aAAc,KAEVC,EAAY,SAACL,GACjBE,EAAUC,MAAO,EACjBD,EAAUE,aAAeJ,EACzBM,YAAW,WACTJ,EAAUC,MAAO,EACjBD,EAAUE,aAAe,KACxB,MAEL,EAA+B,eAAOF,GAA9BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,aACd,MAAO,CAAED,OAAMC,eAAcC,c,UClB/B,EAAOE,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,wICPNT,MAAM,W,EACP,eAAkF,OAA7EA,MAAM,eAAeU,IAAI,6CAA6CC,IAAI,I,YAC1EX,MAAM,kB,GAGNA,MAAM,kB,GAKNA,MAAM,kB,sGAVf,eAoBM,MApBN,EAoBM,CAnBF,EACA,eAEM,MAFN,EAEM,C,eADF,eAA2F,SAApFA,MAAM,0BAA0BY,KAAK,OAAOC,YAAY,S,qDAAkB,EAAAC,SAAQ,K,mBAAR,EAAAA,cAErF,eAIM,MAJN,EAIM,C,eAHF,eAEuC,SAFhCd,MAAM,0BACbY,KAAK,WACLC,YAAY,Q,qDAAiB,EAAAE,SAAQ,K,mBAAR,EAAAA,cAEjC,eAIM,MAJN,EAIM,C,eAHF,eAEwC,SAFjCf,MAAM,0BACbY,KAAK,WACLC,YAAY,O,qDAAgB,EAAAG,WAAU,K,mBAAV,EAAAA,gBAEhC,eAAsE,OAAjEhB,MAAM,2BAA4B,QAAK,8BAAE,EAAAiB,gBAAA,EAAAA,eAAA,sBAAgB,MAC9D,eAEM,OAFDjB,MAAM,yBAA0B,QAAK,8BAAE,EAAAkB,aAAA,EAAAA,YAAA,sBAAa,aAG5C,EAAAd,M,iBAAb,eAA4C,G,MAAxBH,QAAS,EAAAI,c,4GAU/B,EAAoB,SAACC,GACzB,IAAMa,EAAO,eAAS,CACpBL,SAAU,GACVC,SAAU,GACVC,WAAY,KAERI,EAAS,iBACTH,EAAa,yDAAI,sHAEX,EAAmCE,EAAnCL,SAAU,EAAyBK,EAAzBJ,SAAU,EAAeI,EAAfH,WACJ,IAApB,EAASK,OAHM,uBAIjBf,EAAU,UAJO,6BAOK,IAApB,EAASe,QAAsC,IAAtB,EAAWA,OAPrB,uBAQjBf,EAAU,SARO,2CAWE,eAAK,qBAAsB,CAC9CQ,SAAUK,EAAKL,SACfC,SAAUI,EAAKJ,WAbE,QAWbO,EAXa,OAeC,MAAhBA,EAAOC,KAETH,EAAOI,KAAK,CAAEC,KAAM,WAEpBC,QAAQC,IAAI,aACZrB,EAAU,SApBO,qDAuBnBA,EAAU,QAvBS,0DAAJ,qDA0BnB,EAA2C,eAAOa,GAA1CL,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SAAUC,EAA5B,EAA4BA,WAC5B,MAAO,CAAEF,WAAUC,WAAUC,aAAYC,mBAIrC,EAAiB,WACrB,IAAMG,EAAS,iBACTF,EAAc,WAClBE,EAAOI,KAAK,CAAEC,KAAM,WAEtB,MAAO,CAAEP,gBAGI,GACbO,KAAM,WACNG,WAAY,CAAEC,QAAA,MACdC,MAHa,WAIX,MAA0C,iBAAlC1B,EAAR,EAAQA,KAAMC,EAAd,EAAcA,aAAcC,EAA5B,EAA4BA,UAC5B,EAA2D,EAAkBA,GAArEQ,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SAAUC,EAA5B,EAA4BA,WAAYC,EAAxC,EAAwCA,eACxC,EAAwB,IAAhBC,EAAR,EAAQA,YACR,MAAO,CAAEJ,WAAUC,WAAUC,aAAYC,iBAAgBC,cAAad,OAAMC,kB,UC9EhF,EAAOG,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,W","file":"js/register.8ad5cb91.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=4d0fd995&lang=scss&scoped=true\"","<template>\n    <div class=\"toast\">{{message}}</div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nexport default {\n  props: ['message']\n}\nexport const useToastEffect = () => {\n  const toastData = reactive({\n    show: false,\n    toastMessage: ''\n  })\n  const showToast = (message) => {\n    toastData.show = true\n    toastData.toastMessage = message\n    setTimeout(() => {\n      toastData.show = false\n      toastData.toastMessage = ''\n    }, 2000)\n  }\n  const { show, toastMessage } = toRefs(toastData)\n  return { show, toastMessage, showToast }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../style/viriables.scss';\n.toast {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-50%);\n    padding:.1rem;\n    border-radius:.05rem;\n    background:rgb(0, 0, 0,.35);\n    color: $bgColor;\n}\n</style>\n","import { render } from \"./Toast.vue?vue&type=template&id=0c70de70&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=0c70de70&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0c70de70\"\n\nexport default script","<template>\n    <div class=\"wrapper\">\n        <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\">\n        <div class=\"wrapper__input\">\n            <input class=\"wrapper__input__content\" type=\"text\" placeholder=\"请输入手机号\" v-model=\"username\">\n        </div>\n        <div class=\"wrapper__input\">\n            <input class=\"wrapper__input__content\"\n            type=\"password\"\n            placeholder=\"请输入密码\" v-model=\"password\">\n        </div>\n        <div class=\"wrapper__input\">\n            <input class=\"wrapper__input__content\"\n            type=\"password\"\n            placeholder=\"确认密码\" v-model=\"ensurement\">\n        </div>\n        <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\n        <div class=\"wrapper__register-link\" @click=\"handleLogin\">\n            已有账号去登陆\n        </div>\n        <Toast v-if=\"show\" :message=\"toastMessage\"/>\n    </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nimport { reactive, toRefs } from 'vue'\nimport { post } from '../../utils/request'\nimport Toast, { useToastEffect } from '../../components/Toast'\n\nconst useRegisterEffect = (showToast) => {\n  const data = reactive({\n    username: '',\n    password: '',\n    ensurement: ''\n  })\n  const router = useRouter()\n  const handleRegister = async () => {\n    try {\n      const { username, password, ensurement } = data\n      if (username.length === 0) {\n        showToast('请输入手机号')\n        return\n      }\n      if (password.length === 0 || ensurement.length === 0) {\n        showToast('请输入密码')\n        return\n      }\n      const result = await post('/api/user/register', {\n        username: data.username,\n        password: data.password\n      })\n      if (result.code === 200) {\n        // localStorage.isLogin = true\n        router.push({ name: 'Login' })\n      } else {\n        console.log('111111111')\n        showToast('注册失败')\n      }\n    } catch (e) {\n      showToast('注册失败')\n    }\n  }\n  const { username, password, ensurement } = toRefs(data)\n  return { username, password, ensurement, handleRegister }\n}\n\n// 处理登陆跳转\nconst useLoginEffect = () => {\n  const router = useRouter()\n  const handleLogin = () => {\n    router.push({ name: 'Login' })\n  }\n  return { handleLogin }\n}\n\nexport default {\n  name: 'Register',\n  components: { Toast },\n  setup () {\n    const { show, toastMessage, showToast } = useToastEffect()\n    const { username, password, ensurement, handleRegister } = useRegisterEffect(showToast)\n    const { handleLogin } = useLoginEffect()\n    return { username, password, ensurement, handleRegister, handleLogin, show, toastMessage }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n.wrapper {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    right: 0;\n    transform: translateY(-50%);\n    &__img {\n        display: block;\n        margin: 0 auto .4rem auto;\n        width: .66rem;\n        height: .66rem;\n    }\n    &__input {\n        margin:0 .4rem .16rem .4rem;\n        padding: 0 .16rem;\n        height: .48rem;\n        background: #F9F9F9;\n        border: 0.01rem solid rgba(0,0,0,0.10);\n        border-radius: 0.06rem;\n        &__content {\n            border: none;\n            outline: none;\n            line-height: .48rem;\n            width: 100%;\n            background: none;\n            font-size: .16rem;\n            color: $content-notice-fontcolor;\n            &::placeholder {\n                color: $content-notice-fontcolor;\n            }\n        }\n    }\n    &__register-button {\n        margin: .32rem .4rem .16rem .4rem;\n        height: .48rem;\n        background: $btn-bgColor;\n        box-shadow: 0 .04rem 0.08rem 0 rgba(0,145,255,0.32);\n        border-radius: 0.04rem;\n        color: $bgColor;\n        font-size: .16rem;\n        text-align: center;\n        line-height: .48rem;\n    }\n    &__register-link {\n        text-align: center;\n        font-size: .14rem;\n        color: $content-notice-fontcolor;\n    }\n}\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=4d0fd995&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=4d0fd995&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4d0fd995\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Toast.vue?vue&type=style&index=0&id=0c70de70&lang=scss&scoped=true\""],"sourceRoot":""}